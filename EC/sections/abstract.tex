\begin{abstract}
    In the consensus protocol used in most cryptocurrencies, participants called \emph{miners} are expected to perform actions for which they receive rewards. These actions consist on finding \emph{valid blocks} of transactions and appending them to a shared tree-like data structure. Ideally, the rules of the protocol should ensure that miners maximize their gains if they follow a default strategy, which consists on appending blocks only to the longest branch of the tree, called the \emph{blockchain}. This property is particularly important for the protocol as it ensures some desired properties related to security and stability. Unfortunately, existing models studying the optimal behavior of miners consider simplified reward functions, where the utility of a miner is the proportion of valid blocks he manages to include in the blockchain. This does not consider two important factors. First, that in most cryptocurrencies the reward for finding a valid block decreases over time, and second, the fact that a miner naturally prefers to be rewarded earlier than later (the economic concept of discount). Considering these two factors in a model for studying cryptocurrency mining has proven to be a hard task, leaving us without a clear understanding of the optimal behavior of miners.

%Our goal is to understand under which circumstances are miners incentivised to fork the blockchain by mining on top of blocks which are not at the tail of the current chain. In other word we study what are the conditions for which the default mining behaviour is better than any branching strategy. We model mining in cryptocurrencies as a stochastic game in which players always try to produce new blocks, and have to immediately disclose them to other. The probability of a player producing a new block depends on the hash power of the player, that is, the proportion of the computational power he controls compared to the power of the entire network. We work under the assumption that a miner's pay-off increase as long as his blocks are part of the blockchain. Players then look to maximise their utility in the long run, and their best strategy depends on their hash power and the discount applied to the reward of each new block being mined. We show that  if no discount is offered, then miners do not have any incentive to fork, no matter how high their hash power is. On the other hand, when working with discounts similar to those in Bitcoin, miners can have an incentive to fork; however the minimal proportion of hash power for which it happens is close to half. 

    Our goal is to provide a model of cryptocurrencies that can help in understanding under which circumstances are miners encouraged to follow the default strategy. In other words, we study what are the conditions for which the default mining behaviour is better than any other strategy. We model mining in cryptocurrencies as an infinite stochastic game in which players always try to produce valid blocks. The probability of a player finding a valid block depends on his fraction of the computational power of the entire network. To model the fact that block rewards decrease over time, we study the limit situation in which a miner does not receive a full reward for a block if it stops being in the blockchain. More precisely, the reward for a block is divided into an infinite number of payments, and the miner loses some of them whenever the block does not belong to the blockchain. Since older blocks in the blockchain are easier to maintain, we also ensure that the penalty for a block leaving the blockchain decreases with time. This limit situation represents miners who have a strong incentive to put--and maintain--their blocks in the blockchain.
Miners then look to maximise their utility in the long run, and their best strategy depends on their hash power and the discount applied to the reward of each new block being mined. We show that  if no discount is applied, then miners do not have incentives to create new branches, no matter how high their hash power is. On the other hand, when working with discounts similar to those in Bitcoin, miners can have an incentive to create such branches; however the minimal proportion of hash power for which it happens is close to half. 
\end{abstract}

